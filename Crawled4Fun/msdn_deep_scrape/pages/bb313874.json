{
  "url": "https://web.archive.org/web/20100423054747/http://msdn.microsoft.com/en-us/library/bb313874.aspx",
  "original_url": "http://msdn.microsoft.com/en-us/library/bb313874.aspx",
  "title": "Vertex Fetching in HLSL (xvs_3_0, xps_3_0)",
  "status_code": 302,
  "success": true,
  "scraped_at": 1756584724.30355,
  "category": "section",
  "html": "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"><html xmlns=\"http://www.w3.org/1999/xhtml\" style=\"--wm-toolbar-height: 67px;\"><head id=\"ctl00_Head1\"><script src=\"//archive.org/includes/athena.js\" type=\"text/javascript\"></script>\n<script type=\"text/javascript\">window.addEventListener('DOMContentLoaded',function(){var v=archive_analytics.values;v.service='wb';v.server_name='wwwb-app201.us.archive.org';v.server_ms=1343;archive_analytics.send_pageview({});});</script>\n<script type=\"text/javascript\" src=\"https://web-static.archive.org/_static/js/bundle-playback.js?v=FC38Hc5A\" charset=\"utf-8\"></script>\n<script type=\"text/javascript\" src=\"https://web-static.archive.org/_static/js/wombat.js?v=txqj7nKC\" charset=\"utf-8\"></script>\n<script>window.RufflePlayer=window.RufflePlayer||{};window.RufflePlayer.config={\"autoplay\":\"on\",\"unmuteOverlay\":\"hidden\",\"showSwfDownload\":true};</script>\n<script type=\"text/javascript\" src=\"https://web-static.archive.org/_static/js/ruffle/ruffle.js\"></script>\n<script type=\"text/javascript\">\n    __wm.init(\"https://web.archive.org/web\");\n  __wm.wombat(\"http://msdn.microsoft.com:80/en-us/library/bb313874.aspx\",\"20100423061946\",\"https://web.archive.org/\",\"web\",\"https://web-static.archive.org/_static/\",\n\t      \"1272003586\");\n</script>\n<link rel=\"stylesheet\" type=\"text/css\" href=\"https://web-static.archive.org/_static/css/banner-styles.css?v=p7PEIJWi\">\n<link rel=\"stylesheet\" type=\"text/css\" href=\"https://web-static.archive.org/_static/css/iconochive.css?v=3PDvdIFv\">\n<!-- End Wayback Rewrite JS Include -->\n<meta name=\"NormalizedUrl\" content=\"http://msdn.microsoft.com/en-us/library(d=robot)/bb313874(l=en-us,v=XNAGameStudio.31).aspx\"><meta name=\"VotingContextUrl\" content=\"http://msdn.microsoft.com/en-us/library(d=robot)/bb313874(l=en-us,v=XNAGameStudio.31).aspx\"><meta name=\"MN\" content=\"172AFAA2-11:19:46 PM\"><meta name=\"ms.locale\" content=\"en-us\"><meta name=\"Search.ShortId\" content=\"bb313874\"><meta name=\"MSHKeywordK\" content=\"HLSL, vertex fetching\">\n<meta name=\"Search.MSHKeywordK\" content=\"HLSL, vertex fetching\">\n<meta name=\"MSHKeywordK\" content=\"SetStreamSourceFreq\">\n<meta name=\"Search.MSHKeywordK\" content=\"SetStreamSourceFreq\">\n<meta name=\"MSHKeywordK\" content=\"microcode, vertex fetching\">\n<meta name=\"Search.MSHKeywordK\" content=\"microcode, vertex fetching\">\n<meta name=\"MSHAttr\" content=\"AssetID:5f221323-62d0-4484-3eaa-dc43d14d52d3\">\n<meta name=\"Search.MSHAttr.AssetID\" content=\"5f221323-62d0-4484-3eaa-dc43d14d52d3\">\n<meta name=\"MSHAttr\" content=\"Locale:en-us\">\n<meta name=\"Search.MSHAttr.Locale\" content=\"en-us\">\n<meta name=\"MSHAttr\" content=\"CommunityContent:1\">\n<meta name=\"Search.MSHAttr.CommunityContent\" content=\"1\">\n<meta name=\"MSHAttr\" content=\"TopicType:kbOrient\">\n<meta name=\"Search.MSHAttr.TopicType\" content=\"kbOrient\">\n<meta name=\"MSHAttr\" content=\"DocSet:XNA\">\n<meta name=\"Search.MSHAttr.DocSet\" content=\"XNA\">\n<meta name=\"MSHAttr\" content=\"DocSet:ExpressLibVS\">\n<meta name=\"Search.MSHAttr.DocSet\" content=\"ExpressLibVS\">\n<meta name=\"MSHAttr\" content=\"DocSet:C#\">\n<meta name=\"Search.MSHAttr.DocSet\" content=\"C#\">\n<meta name=\"MSHAttr\" content=\"ProjType:LocalProj\">\n<meta name=\"Search.MSHAttr.ProjType\" content=\"LocalProj\">\n<meta name=\"MSHAttr\" content=\"ProjType:XNA_31\">\n<meta name=\"Search.MSHAttr.ProjType\" content=\"XNA_31\">\n<meta name=\"MSHAttr\" content=\"ProjType:XNA_30\">\n<meta name=\"Search.MSHAttr.ProjType\" content=\"XNA_30\">\n<meta name=\"MSHAttr\" content=\"Technology:XNA\">\n<meta name=\"Search.MSHAttr.Technology\" content=\"XNA\">\n<meta name=\"MSHAttr\" content=\"DocSetTitle:XNA\">\n<meta name=\"Search.MSHAttr.DocSetTitle\" content=\"XNA\">\n<meta name=\"MSHAttr\" content=\"DocSetRoot:Bb313874\">\n<meta name=\"Search.MSHAttr.DocSetRoot\" content=\"Bb313874\">\n<meta name=\"save\" content=\"history\">\n<meta name=\"Search.save\" content=\"history\">\n<meta name=\"keywords\" content=\"HLSL, vertex fetching,SetStreamSourceFreq,microcode, vertex fetching\">\n<meta name=\"Search.MSCategory\" content=\"ms310247\">\n<meta name=\"Search.MSCategoryV\" content=\"ms310247MSCategory10\">\n<meta name=\"Search.MSCategory\" content=\"ms310249\">\n<meta name=\"Search.MSCategoryV\" content=\"ms310249MSCategory10\">\n<meta name=\"Search.MSCategory\" content=\"ms310241\">\n<meta name=\"Search.MSCategoryV\" content=\"ms310241MSDN10\">\n<meta name=\"Search.MSCategory\" content=\"aa187916\">\n<meta name=\"Search.MSCategoryV\" content=\"aa187916MSDN10\">\n<meta name=\"Search.MSCategory\" content=\"aa468128\">\n<meta name=\"Search.MSCategoryV\" content=\"aa468128MSDN10\">\n<meta name=\"Search.MSCategory\" content=\"dd253701\">\n<meta name=\"Search.MSCategoryV\" content=\"dd253701XNAGameStudio31\">\n<meta name=\"Search.MSCategory\" content=\"dd253708\">\n<meta name=\"Search.MSCategoryV\" content=\"dd253708XNAGameStudio31\">\n<meta name=\"Search.MSCategory\" content=\"dd253710\">\n<meta name=\"Search.MSCategoryV\" content=\"dd253710XNAGameStudio31\">\n<meta name=\"Search.MSCategory\" content=\"dd282526\">\n<meta name=\"Search.MSCategoryV\" content=\"dd282526XNAGameStudio31\">\n<meta name=\"Search.MSCategory\" content=\"dd282529\">\n<meta name=\"Search.MSCategoryV\" content=\"dd282529XNAGameStudio31\">\n<meta name=\"Search.MSCategory\" content=\"bb313874\">\n<meta name=\"Search.MSCategoryV\" content=\"bb313874XNAGameStudio31\">\n<meta name=\"Search.TocNodeId\" content=\"bb313874\">\n<meta name=\"MSHAttr\" content=\"Rating:0.000\">\n<meta name=\"Search.Rating\" content=\"0\">\n<meta name=\"MSMETANRatingMSMETAV\" content=\"0\">\n<meta name=\"Search.RootTocId\" content=\"ms310241\"><meta name=\"MSHAttr\" content=\"ShippedIn:XNAGameStudio.31\"><meta name=\"Search.ShippedIn\" content=\"XNAGameStudio31\"><meta name=\"Search.GuidIdentifier\" content=\"5f221323-62d0-4484-3eaa-dc43d14d52d3\"><link rel=\"stylesheet\" type=\"text/css\" href=\"https://web.archive.org/web/20100423061946cs_/http://i3.msdn.microsoft.com/en-us/library/mtps-bn20100413.css?l=en-us&amp;i=library&amp;ct=CollapsibleArea;CrawlerNav;InstrumentedLink;MtDisclaimer;ScriptFreeInstrumentedLink;WikiViewer&amp;clustimg=1\"><title>\n\tVertex Fetching in HLSL (xvs_3_0, xps_3_0)\n</title></head>\n<body id=\"ctl00_body1\" dir=\"ltr\"><!-- BEGIN WAYBACK TOOLBAR INSERT -->\n<script>__wm.rw(0);</script>\n<div id=\"wm-ipp-base\" lang=\"en\" style=\"display: block; direction: ltr; height: 67px;\" toolbar-mode=\"auto\">\n</div><div id=\"wm-ipp-print\">The Wayback Machine - https://web.archive.org/web/20100423061946/http://msdn.microsoft.com:80/en-us/library/bb313874.aspx</div>\n<script type=\"text/javascript\">//<![CDATA[\n__wm.bt(750,27,25,2,\"web\",\"http://msdn.microsoft.com/en-us/library/bb313874.aspx\",\"20100423061946\",1996,\"https://web-static.archive.org/_static/\",[\"https://web-static.archive.org/_static/css/banner-styles.css?v=p7PEIJWi\",\"https://web-static.archive.org/_static/css/iconochive.css?v=3PDvdIFv\"], false);\n  __wm.rw(1);\n//]]></script>\n<!-- END WAYBACK TOOLBAR INSERT -->\n \n    <form name=\"aspnetForm\" method=\"post\" action=\"bb313874.aspx\" id=\"aspnetForm\">\n<input type=\"hidden\" name=\"__VIEWSTATE\" id=\"__VIEWSTATE\" value=\"/wEPDwUBMGRk9fo2u6sAqapv5HtNATug6rd+gms=\">\n\n\n<script src=\"https://web.archive.org/web/20100423061946js_/http://i2.msdn.microsoft.com/platform/cjs/extract/compositejscript2.js\" type=\"text/javascript\"></script>\n    \n    <div>\n        \n        <!--starting processing--><div class=\"topic\"><div class=\"majorTitle\">XNA Game Studio 3.1<!----></div><div class=\"title\">Vertex Fetching in HLSL (xvs_3_0, xps_3_0)<!----></div><!--Content type: DocStudio. Transform: devdiv2mtps.xslt.--><div id=\"mainSection\"><div id=\"mainBody\">\n  \n  \n  <p>\n    Vertex fetching in HLSL is implemented by using a combination of the INDEX input semantic and an <strong>asm</strong> block that uses a <a id=\"ctl00_ContentPlaceHolder1_ctl01\" href=\"https://web.archive.org/web/20100423061946/http://msdn.microsoft.com/en-us/library/bb313960.aspx\">vfetch</a> instruction.\n  </p>\n  <p>\n    The following HLSL code shows how vertex fetching can be used to implement an alternative to <a id=\"ctl00_ContentPlaceHolder1_ctl02\" href=\"https://web.archive.org/web/20100423061946/http://msdn.microsoft.com/en-us/library/microsoft.xna.framework.graphics.vertexstream.setfrequency.aspx\">SetFrequency</a>. Note that the INDEX input semantic is associated with a parameter of type <strong>int</strong>.\n  </p>\n  <pre>    float instanceSize : register( c0 ); // Set by application code.\n    \n    struct vsout {\n      float4 p : POSITION;\n      float4 c : COLOR;\n    };\n    \n    float4 fetchPosition( int index )\n    {\n      float4 pos;\n      asm {\n        vfetch pos, index, position\n      };\n      return pos;\n    }\n    \n    float4 fetchDelta( int index )\n    {\n      float4 pos;\n      asm {\n        vfetch pos, index, position1\n      };\n      return pos;\n    }\n\n    float4 fetchColor( int index )\n    {\n      float4 color;\n      asm {\n        vfetch color, index, color\n      };\n      return color;\n    }\n    \n    vsout main( int i : INDEX )\n    {\n      vsout output;\n      \n      // Add 0.5 before dividing to avoid rounding errors.\n      int outerIndex = (i + 0.5) / instanceSize;\n      \n      int innerIndex = i - outerIndex * instanceSize;\n      output.p = fetchPosition( innerIndex ) + fetchDelta( outerIndex );\n      output.c = fetchColor( outerIndex );\n      return output;\n    }\n  </pre>\n  <a id=\"ID4EGB\"><!----></a><span>\n<div class=\"regionArea\">\n<span class=\"regiontitle\" style=\"white-space:nowrap\">See Also</span><div class=\"hrdiv\"><hr class=\"regionhr\"></div></div>\n<a id=\"seeAlsoToggle\"><!----></a>\n    <a id=\"ID4EIB\"><!----></a><h4 class=\"subHeading\">Concepts</h4><div id=\"ID4EIB1\" class=\"hxnx3\">\n      \n      <a id=\"ctl00_ContentPlaceHolder1_ctl10_ctl00_ctl00\" href=\"https://web.archive.org/web/20100423061946/http://msdn.microsoft.com/en-us/library/bb313871.aspx\">Inline Microcode Assembly in HLSL</a><br>\n      <a id=\"ctl00_ContentPlaceHolder1_ctl10_ctl00_ctl01\" href=\"https://web.archive.org/web/20100423061946/http://msdn.microsoft.com/en-us/library/bb313873.aspx\">Texture Fetching in HLSL (xvs_3_0, xps_3_0)</a><br>\n      <a id=\"ctl00_ContentPlaceHolder1_ctl10_ctl00_ctl02\" href=\"https://web.archive.org/web/20100423061946/http://msdn.microsoft.com/en-us/library/bb313962.aspx\">Swizzling (xvs_3_0, xps_3_0)</a><br>\n    </div>\n    <a id=\"ID4EWB\"><!----></a><h4 class=\"subHeading\">Reference</h4><div id=\"ID4EWB1\" class=\"hxnx3\">\n      \n      <a id=\"ctl00_ContentPlaceHolder1_ctl10_ctl00_ctl03\" href=\"https://web.archive.org/web/20100423061946/http://msdn.microsoft.com/en-us/library/bb313961.aspx\">Microcode Instructions (xvs_3_0, xps_3_0)</a><br>\n    </div>\n  </span>\n</div></div></div>\n        <hr><br><a href=\"https://web.archive.org/web/20100423061946/http://msdn.microsoft.com/en-us/library/ms123401.aspx\">MSDN Library</a><br><a href=\"https://web.archive.org/web/20100423061946/http://msdn.microsoft.com/en-us/library/aa187916.aspx\">Development Tools and Languages</a><br><a href=\"https://web.archive.org/web/20100423061946/http://msdn.microsoft.com/en-us/library/aa468128.aspx\">XNA Game Studio</a><br><a href=\"https://web.archive.org/web/20100423061946/http://msdn.microsoft.com/en-us/library/bb200104.aspx\">XNA Game Studio 3.1</a><br><a href=\"https://web.archive.org/web/20100423061946/http://msdn.microsoft.com/en-us/library/bb198548.aspx\">Programming Guide</a><br><a href=\"https://web.archive.org/web/20100423061946/http://msdn.microsoft.com/en-us/library/bb975657.aspx\">Hardware and Platforms</a><br><a href=\"https://web.archive.org/web/20100423061946/http://msdn.microsoft.com/en-us/library/bb417501.aspx\">Xbox 360 Programming</a><br><a href=\"https://web.archive.org/web/20100423061946/http://msdn.microsoft.com/en-us/library/bb313877.aspx\">Microcode (xvs_3_0, xps_3_0)</a><br><a href=\"https://web.archive.org/web/20100423061946/http://msdn.microsoft.com/en-us/library/bb313874.aspx\">Vertex Fetching in HLSL (xvs_3_0, xps_3_0)</a><hr>       \n    </div>\n    <div id=\"ctl00_WikiViewer1_cc\" class=\"wv_cc\">\n\t\n    <div id=\"ctl00_WikiViewer1_ccContainer\">\n\t\t<div class=\"wv_ccTopicTags\">\n\t\t\t<span class=\"wv_ccTitle\">Tags:&nbsp;</span><span></span>\n\t\t</div>\n        &nbsp;\n        <div class=\"wv_cclogo\">\n\t        <img id=\"ctl00_WikiViewer1_WikiLogo\" src=\"https://web.archive.org/web/20100423061946im_/http://i.msdn.microsoft.com/Global/Images/wiki.gif\" border=\"0\">\n        </div>\n        <div class=\"wv_cch\">\n           <span id=\"ctl00_WikiViewer1_CC_Title\">Community Content</span>\n        </div>\n    \n\t</div>\n\n</div>\n<div id=\"ctl00_WikiViewer1_wikiItems\">\n\n</div>\n       <script type=\"text/javascript\" src=\"https://web.archive.org/web/20100423061946js_/http://i2.msdn.microsoft.com/en-us/library/mtps-bn20100413.js?l=en-us&amp;i=library&amp;ct=CollapsibleArea;CrawlerNav;InstrumentedLink;MtDisclaimer;ScriptFreeInstrumentedLink;WikiViewer\"></script>  \n    \n\n<script type=\"text/javascript\">\n//<![CDATA[\nSys.Application.initialize();\n//]]>\n</script>\n</form>\n\n\n\n</body></html>",
  "cleaned_html": "<html>\n<head>\n<!-- End Wayback Rewrite JS Include -->\n<title>\n\tVertex Fetching in HLSL (xvs_3_0, xps_3_0)\n</title>\n</head>\n<body>\n<!-- BEGIN WAYBACK TOOLBAR INSERT -->\n<div>The Wayback Machine - https://web.archive.org/web/20100423061946/http://msdn.microsoft.com:80/en-us/library/bb313874.aspx</div>\n<!-- END WAYBACK TOOLBAR INSERT -->\n \n    <form>\n<input>\n\n\n<div>\n        \n        <!--starting processing--><div>\n<div>XNA Game Studio 3.1<!---->\n</div>\n<div>Vertex Fetching in HLSL (xvs_3_0, xps_3_0)<!---->\n</div>\n<!--Content type: DocStudio. Transform: devdiv2mtps.xslt.--><div><div>\n  \n  \n  <p>\n    Vertex fetching in HLSL is implemented by using a combination of the INDEX input semantic and an <strong>asm</strong> block that uses a <a href=\"https://web.archive.org/web/20100423061946/http://msdn.microsoft.com/en-us/library/bb313960.aspx\">vfetch</a> instruction.\n  </p>\n  <p>\n    The following HLSL code shows how vertex fetching can be used to implement an alternative to <a href=\"https://web.archive.org/web/20100423061946/http://msdn.microsoft.com/en-us/library/microsoft.xna.framework.graphics.vertexstream.setfrequency.aspx\">SetFrequency</a>. Note that the INDEX input semantic is associated with a parameter of type <strong>int</strong>.\n  </p>\n  <pre>    float instanceSize : register( c0 ); // Set by application code.\n    \n    struct vsout {\n      float4 p : POSITION;\n      float4 c : COLOR;\n    };\n    \n    float4 fetchPosition( int index )\n    {\n      float4 pos;\n      asm {\n        vfetch pos, index, position\n      };\n      return pos;\n    }\n    \n    float4 fetchDelta( int index )\n    {\n      float4 pos;\n      asm {\n        vfetch pos, index, position1\n      };\n      return pos;\n    }\n\n    float4 fetchColor( int index )\n    {\n      float4 color;\n      asm {\n        vfetch color, index, color\n      };\n      return color;\n    }\n    \n    vsout main( int i : INDEX )\n    {\n      vsout output;\n      \n      // Add 0.5 before dividing to avoid rounding errors.\n      int outerIndex = (i + 0.5) / instanceSize;\n      \n      int innerIndex = i - outerIndex * instanceSize;\n      output.p = fetchPosition( innerIndex ) + fetchDelta( outerIndex );\n      output.c = fetchColor( outerIndex );\n      return output;\n    }\n  </pre>\n  <a><!----></a><span>\n<div>\n<span>See Also</span><div><hr></div>\n</div>\n<a><!----></a>\n    <a><!----></a><h4>Concepts</h4>\n<div>\n      \n      <a href=\"https://web.archive.org/web/20100423061946/http://msdn.microsoft.com/en-us/library/bb313871.aspx\">Inline Microcode Assembly in HLSL</a><br>\n      <a href=\"https://web.archive.org/web/20100423061946/http://msdn.microsoft.com/en-us/library/bb313873.aspx\">Texture Fetching in HLSL (xvs_3_0, xps_3_0)</a><br>\n      <a href=\"https://web.archive.org/web/20100423061946/http://msdn.microsoft.com/en-us/library/bb313962.aspx\">Swizzling (xvs_3_0, xps_3_0)</a><br>\n    </div>\n    <a><!----></a><h4>Reference</h4>\n<div>\n      \n      <a href=\"https://web.archive.org/web/20100423061946/http://msdn.microsoft.com/en-us/library/bb313961.aspx\">Microcode Instructions (xvs_3_0, xps_3_0)</a><br>\n    </div>\n  </span>\n</div></div>\n</div>\n        <hr>\n<br><a href=\"https://web.archive.org/web/20100423061946/http://msdn.microsoft.com/en-us/library/ms123401.aspx\">MSDN Library</a><br><a href=\"https://web.archive.org/web/20100423061946/http://msdn.microsoft.com/en-us/library/aa187916.aspx\">Development Tools and Languages</a><br><a href=\"https://web.archive.org/web/20100423061946/http://msdn.microsoft.com/en-us/library/aa468128.aspx\">XNA Game Studio</a><br><a href=\"https://web.archive.org/web/20100423061946/http://msdn.microsoft.com/en-us/library/bb200104.aspx\">XNA Game Studio 3.1</a><br><a href=\"https://web.archive.org/web/20100423061946/http://msdn.microsoft.com/en-us/library/bb198548.aspx\">Programming Guide</a><br><a href=\"https://web.archive.org/web/20100423061946/http://msdn.microsoft.com/en-us/library/bb975657.aspx\">Hardware and Platforms</a><br><a href=\"https://web.archive.org/web/20100423061946/http://msdn.microsoft.com/en-us/library/bb417501.aspx\">Xbox 360 Programming</a><br><a href=\"https://web.archive.org/web/20100423061946/http://msdn.microsoft.com/en-us/library/bb313877.aspx\">Microcode (xvs_3_0, xps_3_0)</a><br><a href=\"https://web.archive.org/web/20100423061946/http://msdn.microsoft.com/en-us/library/bb313874.aspx\">Vertex Fetching in HLSL (xvs_3_0, xps_3_0)</a><hr>       \n    </div>\n    <div>\n\t\n    <div>\n\t\t<div>\n\t\t\t<span>Tags: </span>\n</div>\n         \n        <div>\n\t        <img src=\"https://web.archive.org/web/20100423061946im_/http://i.msdn.microsoft.com/Global/Images/wiki.gif\">\n        </div>\n        <div>\n           <span>Community Content</span>\n        </div>\n    \n\t</div>\n\n</div>\n</form>\n\n\n\n</body>\n</html>",
  "markdown": "The Wayback Machine - https://web.archive.org/web/20100423061946/http://msdn.microsoft.com:80/en-us/library/bb313874.aspx\nXNA Game Studio 3.1\nVertex Fetching in HLSL (xvs_3_0, xps_3_0)\nVertex fetching in HLSL is implemented by using a combination of the INDEX input semantic and an **asm** block that uses a [vfetch](https://web.archive.org/web/20100423061946/http://msdn.microsoft.com/en-us/library/bb313960.aspx) instruction. \nThe following HLSL code shows how vertex fetching can be used to implement an alternative to [SetFrequency](https://web.archive.org/web/20100423061946/http://msdn.microsoft.com/en-us/library/microsoft.xna.framework.graphics.vertexstream.setfrequency.aspx). Note that the INDEX input semantic is associated with a parameter of type **int**. \n```\n    float instanceSize : register( c0 ); // Set by application code.\n    \n    struct vsout {\n      float4 p : POSITION;\n      float4 c : COLOR;\n    };\n    \n    float4 fetchPosition( int index )\n    {\n      float4 pos;\n      asm {\n        vfetch pos, index, position\n      };\n      return pos;\n    }\n    \n    float4 fetchDelta( int index )\n    {\n      float4 pos;\n      asm {\n        vfetch pos, index, position1\n      };\n      return pos;\n    }\n\n    float4 fetchColor( int index )\n    {\n      float4 color;\n      asm {\n        vfetch color, index, color\n      };\n      return color;\n    }\n    \n    vsout main( int i : INDEX )\n    {\n      vsout output;\n      \n      // Add 0.5 before dividing to avoid rounding errors.\n      int outerIndex = (i + 0.5) / instanceSize;\n      \n      int innerIndex = i - outerIndex * instanceSize;\n      output.p = fetchPosition( innerIndex ) + fetchDelta( outerIndex );\n      output.c = fetchColor( outerIndex );\n      return output;\n    }\n  \n```\n\nSee Also\n* * *\n#### Concepts\n[Inline Microcode Assembly in HLSL](https://web.archive.org/web/20100423061946/http://msdn.microsoft.com/en-us/library/bb313871.aspx)  \n[Texture Fetching in HLSL (xvs_3_0, xps_3_0)](https://web.archive.org/web/20100423061946/http://msdn.microsoft.com/en-us/library/bb313873.aspx)  \n[Swizzling (xvs_3_0, xps_3_0)](https://web.archive.org/web/20100423061946/http://msdn.microsoft.com/en-us/library/bb313962.aspx)  \n\n#### Reference\n[Microcode Instructions (xvs_3_0, xps_3_0)](https://web.archive.org/web/20100423061946/http://msdn.microsoft.com/en-us/library/bb313961.aspx)  \n\n* * *\n  \n[MSDN Library](https://web.archive.org/web/20100423061946/http://msdn.microsoft.com/en-us/library/ms123401.aspx)  \n[Development Tools and Languages](https://web.archive.org/web/20100423061946/http://msdn.microsoft.com/en-us/library/aa187916.aspx)  \n[XNA Game Studio](https://web.archive.org/web/20100423061946/http://msdn.microsoft.com/en-us/library/aa468128.aspx)  \n[XNA Game Studio 3.1](https://web.archive.org/web/20100423061946/http://msdn.microsoft.com/en-us/library/bb200104.aspx)  \n[Programming Guide](https://web.archive.org/web/20100423061946/http://msdn.microsoft.com/en-us/library/bb198548.aspx)  \n[Hardware and Platforms](https://web.archive.org/web/20100423061946/http://msdn.microsoft.com/en-us/library/bb975657.aspx)  \n[Xbox 360 Programming](https://web.archive.org/web/20100423061946/http://msdn.microsoft.com/en-us/library/bb417501.aspx)  \n[Microcode (xvs_3_0, xps_3_0)](https://web.archive.org/web/20100423061946/http://msdn.microsoft.com/en-us/library/bb313877.aspx)  \n[Vertex Fetching in HLSL (xvs_3_0, xps_3_0)](https://web.archive.org/web/20100423061946/http://msdn.microsoft.com/en-us/library/bb313874.aspx)\n* * *\nTags: \n![](https://web.archive.org/web/20100423061946im_/http://i.msdn.microsoft.com/Global/Images/wiki.gif)\nCommunity Content\n",
  "metadata": {
    "title": "Vertex Fetching in HLSL (xvs_3_0, xps_3_0)",
    "description": null,
    "keywords": "HLSL, vertex fetching,SetStreamSourceFreq,microcode, vertex fetching",
    "author": null
  },
  "links": {
    "internal": [
      {
        "href": "https://web.archive.org/web/20100423061946/http%3A//msdn.microsoft.com/en-us/library/bb313960.aspx",
        "text": "vfetch",
        "title": "",
        "base_domain": "archive.org",
        "head_data": null,
        "head_extraction_status": null,
        "head_extraction_error": null,
        "intrinsic_score": 0.0,
        "contextual_score": null,
        "total_score": null
      },
      {
        "href": "https://web.archive.org/web/20100423061946/http%3A//msdn.microsoft.com/en-us/library/microsoft.xna.framework.graphics.vertexstream.setfrequency.aspx",
        "text": "SetFrequency",
        "title": "",
        "base_domain": "archive.org",
        "head_data": null,
        "head_extraction_status": null,
        "head_extraction_error": null,
        "intrinsic_score": 0.0,
        "contextual_score": null,
        "total_score": null
      },
      {
        "href": "https://web.archive.org/web/20100423061946/http%3A//msdn.microsoft.com/en-us/library/bb313871.aspx",
        "text": "Inline Microcode Assembly in HLSL",
        "title": "",
        "base_domain": "archive.org",
        "head_data": null,
        "head_extraction_status": null,
        "head_extraction_error": null,
        "intrinsic_score": 0.0,
        "contextual_score": null,
        "total_score": null
      },
      {
        "href": "https://web.archive.org/web/20100423061946/http%3A//msdn.microsoft.com/en-us/library/bb313873.aspx",
        "text": "Texture Fetching in HLSL (xvs_3_0, xps_3_0)",
        "title": "",
        "base_domain": "archive.org",
        "head_data": null,
        "head_extraction_status": null,
        "head_extraction_error": null,
        "intrinsic_score": 0.0,
        "contextual_score": null,
        "total_score": null
      },
      {
        "href": "https://web.archive.org/web/20100423061946/http%3A//msdn.microsoft.com/en-us/library/bb313962.aspx",
        "text": "Swizzling (xvs_3_0, xps_3_0)",
        "title": "",
        "base_domain": "archive.org",
        "head_data": null,
        "head_extraction_status": null,
        "head_extraction_error": null,
        "intrinsic_score": 0.0,
        "contextual_score": null,
        "total_score": null
      },
      {
        "href": "https://web.archive.org/web/20100423061946/http%3A//msdn.microsoft.com/en-us/library/bb313961.aspx",
        "text": "Microcode Instructions (xvs_3_0, xps_3_0)",
        "title": "",
        "base_domain": "archive.org",
        "head_data": null,
        "head_extraction_status": null,
        "head_extraction_error": null,
        "intrinsic_score": 0.0,
        "contextual_score": null,
        "total_score": null
      },
      {
        "href": "https://web.archive.org/web/20100423061946/http%3A//msdn.microsoft.com/en-us/library/ms123401.aspx",
        "text": "MSDN Library",
        "title": "",
        "base_domain": "archive.org",
        "head_data": null,
        "head_extraction_status": null,
        "head_extraction_error": null,
        "intrinsic_score": 0.0,
        "contextual_score": null,
        "total_score": null
      },
      {
        "href": "https://web.archive.org/web/20100423061946/http%3A//msdn.microsoft.com/en-us/library/aa187916.aspx",
        "text": "Development Tools and Languages",
        "title": "",
        "base_domain": "archive.org",
        "head_data": null,
        "head_extraction_status": null,
        "head_extraction_error": null,
        "intrinsic_score": 0.0,
        "contextual_score": null,
        "total_score": null
      },
      {
        "href": "https://web.archive.org/web/20100423061946/http%3A//msdn.microsoft.com/en-us/library/aa468128.aspx",
        "text": "XNA Game Studio",
        "title": "",
        "base_domain": "archive.org",
        "head_data": null,
        "head_extraction_status": null,
        "head_extraction_error": null,
        "intrinsic_score": 0.0,
        "contextual_score": null,
        "total_score": null
      },
      {
        "href": "https://web.archive.org/web/20100423061946/http%3A//msdn.microsoft.com/en-us/library/bb200104.aspx",
        "text": "XNA Game Studio 3.1",
        "title": "",
        "base_domain": "archive.org",
        "head_data": null,
        "head_extraction_status": null,
        "head_extraction_error": null,
        "intrinsic_score": 0.0,
        "contextual_score": null,
        "total_score": null
      },
      {
        "href": "https://web.archive.org/web/20100423061946/http%3A//msdn.microsoft.com/en-us/library/bb198548.aspx",
        "text": "Programming Guide",
        "title": "",
        "base_domain": "archive.org",
        "head_data": null,
        "head_extraction_status": null,
        "head_extraction_error": null,
        "intrinsic_score": 0.0,
        "contextual_score": null,
        "total_score": null
      },
      {
        "href": "https://web.archive.org/web/20100423061946/http%3A//msdn.microsoft.com/en-us/library/bb975657.aspx",
        "text": "Hardware and Platforms",
        "title": "",
        "base_domain": "archive.org",
        "head_data": null,
        "head_extraction_status": null,
        "head_extraction_error": null,
        "intrinsic_score": 0.0,
        "contextual_score": null,
        "total_score": null
      },
      {
        "href": "https://web.archive.org/web/20100423061946/http%3A//msdn.microsoft.com/en-us/library/bb417501.aspx",
        "text": "Xbox 360 Programming",
        "title": "",
        "base_domain": "archive.org",
        "head_data": null,
        "head_extraction_status": null,
        "head_extraction_error": null,
        "intrinsic_score": 0.0,
        "contextual_score": null,
        "total_score": null
      },
      {
        "href": "https://web.archive.org/web/20100423061946/http%3A//msdn.microsoft.com/en-us/library/bb313877.aspx",
        "text": "Microcode (xvs_3_0, xps_3_0)",
        "title": "",
        "base_domain": "archive.org",
        "head_data": null,
        "head_extraction_status": null,
        "head_extraction_error": null,
        "intrinsic_score": 0.0,
        "contextual_score": null,
        "total_score": null
      },
      {
        "href": "https://web.archive.org/web/20100423061946/http%3A//msdn.microsoft.com/en-us/library/bb313874.aspx",
        "text": "Vertex Fetching in HLSL (xvs_3_0, xps_3_0)",
        "title": "",
        "base_domain": "archive.org",
        "head_data": null,
        "head_extraction_status": null,
        "head_extraction_error": null,
        "intrinsic_score": 0.0,
        "contextual_score": null,
        "total_score": null
      }
    ],
    "external": []
  },
  "media": {
    "images": [],
    "videos": [],
    "audios": []
  },
  "word_count": 268
}