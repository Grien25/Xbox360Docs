# tfetch3D (xvs_3_0, xps_3_0)

**Source:** http://msdn.microsoft.com/en-us/library/bb313958.aspx

[![Wayback Machine](https://web-static.archive.org/_static/images/toolbar/wayback-toolbar-logo-200.png)](https://web.archive.org/web/ "Wayback Machine home page")
[3 captures](https://web.archive.org/web/20100425013737*/http://msdn.microsoft.com/en-us/library/bb313958.aspx "See a list of every capture for this URL")
12 May 2009 - 05 Jul 2010
[ ](https://web.archive.org/web/20100425013737/http://msdn.microsoft.com/en-us/library/bb313958.aspx)
[**May**](https://web.archive.org/web/20090512001222/http://msdn.microsoft.com:80/en-us/library/bb313958.aspx "12 May 2009") | APR | [**Jul**](https://web.archive.org/web/20100705134106/http://msdn.microsoft.com:80/en-us/library/bb313958.aspx "05 Jul 2010")  
---|---|---  
[![Previous capture](https://web-static.archive.org/_static/images/toolbar/wm_tb_prv_on.png)](https://web.archive.org/web/20090512001222/http://msdn.microsoft.com:80/en-us/library/bb313958.aspx "00:12:22 May 12, 2009") | 25 | [![Next capture](https://web-static.archive.org/_static/images/toolbar/wm_tb_nxt_on.png)](https://web.archive.org/web/20100705134106/http://msdn.microsoft.com:80/en-us/library/bb313958.aspx "13:41:06 Jul 05, 2010")  
2009 | 2010 | 2011  
success
fail
[ ](https://web.archive.org/web/20100425013737/http://msdn.microsoft.com/en-us/library/bb313958.aspx "Share via My Web Archive") [ ](https://archive.org/account/login.php "Sign In") [](https://help.archive.org/help/category/the-wayback-machine/ "Get some help using the Wayback Machine") [](https://web.archive.org/web/20100425013737/http://msdn.microsoft.com/en-us/library/bb313958.aspx#close "Close the toolbar")
[ ](https://web.archive.org/web/20100425013737/http://web.archive.org/screenshot/http://msdn.microsoft.com/en-us/library/bb313958.aspx "screenshot") [ ](https://web.archive.org/web/20100425013737/http://msdn.microsoft.com/en-us/library/bb313958.aspx "video") [](https://web.archive.org/web/20100425013737/http://msdn.microsoft.com/en-us/library/bb313958.aspx "Share on Facebook") [](https://web.archive.org/web/20100425013737/http://msdn.microsoft.com/en-us/library/bb313958.aspx "Share on Twitter")
[About this capture](https://web.archive.org/web/20100425013737/http://msdn.microsoft.com/en-us/library/bb313958.aspx#expand)
COLLECTED BY
[Alexa Crawls](https://archive.org/details/alexacrawls)
[Alexa Internet](http://www.alexa.com/) has been donating their crawl data to the Internet Archive. Flowing in every day, these data are added to the [Wayback Machine](http://web.archive.org/) after an embargo period. 
Collection: [alexa_web_2010](https://archive.org/details/alexa_web_2010)
TIMESTAMPS
![loading](https://web-static.archive.org/_static/images/loading.gif)
The Wayback Machine - https://web.archive.org/web/20100425013737/http://msdn.microsoft.com:80/en-us/library/bb313958.aspx
XNA Game Studio 3.1
tfetch3D (xvs_3_0, xps_3_0)
Fetches sample data from a 3D texture.  ```
tfetch3D dest, src1, fetchConst [, name = value, ...]
```
  
---  
# Name-Value Pair 

**UnnormalizedTextureCoords** = **bool** 
    If **UnnormalizedTextureCoords** is **true** , texture coordinates should range between 0 and the dimensions of the texture; otherwise, the texture coordinates should range beween 0.0f and 1.0f. The default value is **false**. 

**MagFilter** = **enum** 
    
Filter used when the texture is magnified. **MagFilter** must be one of the following values.
Value | Description  
---|---  
point | Point filter. The texel with coordinates nearest to the desired pixel value is used.  
linear | Bilinear interpolation filter. A weighted average of a 22 area of texels surrounding the desired pixel is used.  
keep | Use the filtering set up by Direct3D. This is the default value. 

**MinFilter** = **enum** 
      
Filter used when the texture is minified. **MinFilter** must be one of the following values.
Value | Description  
---|---  
point | Point filter. The texel with coordinates nearest to the desired pixel value is used.  
linear | Bilinear interpolation filter. A weighted average of a 22 area of texels surrounding the desired pixel is used.  
keep | Use the filtering set up by Direct3D. This is the default value. 

**MipFilter** = **enum** 
      
Filter used between mipmap levels. **MipFilter** must be one of the following values.
Value | Description  
---|---  
point | Point filter. The mipmap with coordinates nearest to the desired pixel value is used.  
linear | Trilinear interpolation filtering is used as a mipmap filter, using the texels of the two nearest mipmap textures.  
keep | Use the filtering set up by Direct3D. This is the default value. 

**VolMagFilter** = **enum** 
      
Filter used when the volume is magnified. **VolMagFilter** must be one of the following values.
Value | Description  
---|---  
point | Point filter. The texel with coordinates nearest to the desired pixel value is used.  
linear | Bilinear interpolation filter. A weighted average of a 22 area of texels surrounding the desired pixel is used.  
keep | Use the filtering set up by Direct3D. This is the default value. 

**VolMinFilter** = **enum** 
      
Filter used when the volume is minified. **VolMinFilter** must be one of the following values.
Value | Description  
---|---  
point | Point filter. The texel with coordinates nearest to the desired pixel value is used.  
linear | Bilinear interpolation filter. A weighted average of a 22 area of texels surrounding the desired pixel is used.  
keep | Use the filtering set up by Direct3D. This is the default value. 

**UseComputedLOD** = **bool** 
    If **UseComputedLOD** is **true** , the shader will use the LOD computed in the texture pipeline. The default value is **true**. For more details, see [Computing the LOD](https://web.archive.org/web/20100425013737/http://msdn.microsoft.com/en-us/library/bb313958.aspx#bias). 

**UseRegisterLOD** = **bool** 
    If **UseRegisterLOD** is **true** , the shader will use the LOD set by [setTexLOD](https://web.archive.org/web/20100425013737/http://msdn.microsoft.com/en-us/library/bb313955.aspx). The default value is **false**. For more details, see [Computing the LOD](https://web.archive.org/web/20100425013737/http://msdn.microsoft.com/en-us/library/bb313958.aspx#bias). 

**LODBias** = **float** 
    Bias to add to the LOD. The _value_ must be a number between −4.0 and 3.9375. In addition, _value_ must be an integer multiple of 0.0625. The default value is 0.0f. For more details, see [Computing the LOD](https://web.archive.org/web/20100425013737/http://msdn.microsoft.com/en-us/library/bb313958.aspx#bias). 

**OffsetX** = **float** 
    Value added to the x-component of the texel address right before sampling. The _value_ must be between −8.0f and 7.5f. In addition, _value_ must be an integer multiple of 0.5f. The default value is 0.0f.  

**OffsetY** = **float** 
     Value added to the y-component of the texel address right before sampling. The _value_ must be between −8.0f and 7.5f. In addition, _value_ must be an integer multiple of 0.5f. The default value is 0.0f. 

**OffsetZ** = **float** 
    Value added to the z-component of the texel address right before sampling. The _value_ must be between −8.0f and 7.5f. In addition, _value_ must be an integer multiple of 0.5f. The default value is 0.0f. 

**FetchValidOnly** = **bool** 
      
Performance booster that determines if pixel data should be fetched for pixels outside of the current primitive. The default value is **true**. For vertex shaders, **FetchValidOnly** should always be **true**. For pixel shaders, **FetchValidOnly** should be **true** , unless the result of the **tfetch** instruction is used to calculate a gradient, by using [getGradients](https://web.archive.org/web/20100425013737/http://msdn.microsoft.com/en-us/library/bb464129.aspx) or a **tfetch** instruction with **UseComputedLOD** set to **true**. 
Gradient information is calculated by running a 2×2 quad of pixel shaders and computing the difference between the resulting pixels. At the edges of triangles, there are situations where one or more of the pixel shaders in the quad lies outside the boundary of the triangle, and so its computed values won't be output. The **FetchValidOnly** value is used to tell the hardware that it doesn't have to fetch the pixel data for these out-of-bounds pixel shaders. When **FetchValidOnly** is **true** , data will be fetched only for those pixels that are valid (inside the triangle), which speeds up the calculations.
In cases where the result of the texture fetch is itself used to calculate gradient information, all four pixel shaders in the quad are necessary to compute the gradients, and **FetchValidOnly** should be set to **false**.
Remarks
* * *
The _src1_ register specifies the coordinates from which to fetch the sample data.
If **UnnormalizedTextureCoords** is **true** , you must set the [AddressU](https://web.archive.org/web/20100425013737/http://msdn.microsoft.com/en-us/library/microsoft.xna.framework.graphics.samplerstate.addressu.aspx), [AddressW](https://web.archive.org/web/20100425013737/http://msdn.microsoft.com/en-us/library/microsoft.xna.framework.graphics.samplerstate.addressw.aspx), and [AddressV](https://web.archive.org/web/20100425013737/http://msdn.microsoft.com/en-us/library/microsoft.xna.framework.graphics.samplerstate.addressv.aspx) texture sampler states to a clamping mode such as [TextureAddressMode.Clamp](https://web.archive.org/web/20100425013737/http://msdn.microsoft.com/en-us/library/microsoft.xna.framework.graphics.textureaddressmode.aspx#TextureAddressMode.Clamp), rather than a wrapping mode. Using a wrapping mode will force normalized texture coordinates even if **UnnormalizedTextureCoords** is **true**.
![Bb313958.note\(en-us,XNAGameStudio.31\).gif](https://web.archive.org/web/20100425013737im_/http://i.msdn.microsoft.com/Bb313958.note\(en-us,XNAGameStudio.31\).gif)Note   
---  
To use the **tfetch3D (xvs_3_0, xps_3_0)** instruction in a vertex shader, **UseComputedLOD** must be **false** unless you manually set the gradients and you set **UseRegisterGradients** to **true**.  
## Computing the LOD
The total LOD for a sample is additive and is based on what is enabled. The total LOD is determined by the LOD computed in the texture pipeline (if **UseComputedLOD** is **true**), the LOD set by [setTexLOD](https://web.archive.org/web/20100425013737/http://msdn.microsoft.com/en-us/library/bb313955.aspx) (if **UseRegisterLOD** is **true**), and the **LODBias** value.
* * *
  
[MSDN Library](https://web.archive.org/web/20100425013737/http://msdn.microsoft.com/en-us/library/ms123401.aspx)  
[Development Tools and Languages](https://web.archive.org/web/20100425013737/http://msdn.microsoft.com/en-us/library/aa187916.aspx)  
[XNA Game Studio](https://web.archive.org/web/20100425013737/http://msdn.microsoft.com/en-us/library/aa468128.aspx)  
[XNA Game Studio 3.1](https://web.archive.org/web/20100425013737/http://msdn.microsoft.com/en-us/library/bb200104.aspx)  
[Programming Guide](https://web.archive.org/web/20100425013737/http://msdn.microsoft.com/en-us/library/bb198548.aspx)  
[Hardware and Platforms](https://web.archive.org/web/20100425013737/http://msdn.microsoft.com/en-us/library/bb975657.aspx)  
[Xbox 360 Programming](https://web.archive.org/web/20100425013737/http://msdn.microsoft.com/en-us/library/bb417501.aspx)  
[Microcode (xvs_3_0, xps_3_0)](https://web.archive.org/web/20100425013737/http://msdn.microsoft.com/en-us/library/bb313877.aspx)  
[Microcode Instructions (xvs_3_0, xps_3_0)](https://web.archive.org/web/20100425013737/http://msdn.microsoft.com/en-us/library/bb313961.aspx)  
[Fetch Instructions (xvs_3_0, xps_3_0)](https://web.archive.org/web/20100425013737/http://msdn.microsoft.com/en-us/library/bb313942.aspx)  
[tfetch3D (xvs_3_0, xps_3_0)](https://web.archive.org/web/20100425013737/http://msdn.microsoft.com/en-us/library/bb313958.aspx)
* * *
Tags: 
![](https://web.archive.org/web/20100425013737im_/http://i.msdn.microsoft.com/Global/Images/wiki.gif)
Community Content
